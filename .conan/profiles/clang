{% set std_lib = {"Linux": "libstdc++"}.get(platform.system(), "libc++") %}

[settings]
build_type=Release
compiler=clang
compiler.cppstd=14
compiler.libcxx={{ std_lib }}
compiler.version=18
os={{detect_api.detect_os()}}
arch={{detect_api.detect_arch()}}

[conf]
tools.cmake.cmaketoolchain:generator=Ninja

[buildenv]
# Force compiler paths to be from micromamba
# Use just name on Windows, since bash expansion is not available
CC={{ "clang" if platform.system() == "Windows" else "$(micromamba run which clang)" }}
CXX={{ "clang++" if platform.system() == "Windows" else "$(micromamba run which clang++)" }}
